<!DOCTYPE html>
<html>

<body>

  <script type="text/javascript" src="plot.js"></script>
  <canvas id="Dynamic Test" width="100%" height="101px"></canvas>

  <style>
    canvas { /* Note: plot resizes with browser window. */
      display: block;
      margin: 0 auto;
    }
  </style>

  <script type="text/javascript">
    var plot = document.jlettvin.plot.draw;
    var canvasName = "Dynamic Test";
    var shape = {width: 800, height: 201};
    var X = shape.width, Y = shape.height, dy = Y / X;
    var lines = [{label:canvasName, color:"#00FF00", ymin: 0, ymax:Y, data:[]}];
    var x = 0;
    var update = function() {
      if (lines[0].data.length > shape.width) lines[0].data = lines[0].data.slice(1);
      lines[0].data.push(Math.sin(x / (5 * Math.PI)));
      plot(canvasName, lines, shape);
      setTimeout(update, 20);
    };
    x++;
    (function() { plot(canvasName, lines); })();
  </script>

</body>
