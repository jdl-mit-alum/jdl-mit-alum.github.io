<!DOCTYPE html>
<html>

<body>

  <script type="text/javascript" src="plot.js"></script>
  <canvas id="Dynamic Test" width="100%" height="101px"></canvas>

  <style>
    canvas { /* Note: plot resizes with browser window. */
      display: block;
      margin: 0 auto;
    }
  </style>

  <script type="text/javascript">
    var plot = document.jlettvin.plot.draw;
    var canvasName = "Dynamic Test";
    var shape = {width: 800, height: 201};
    var X = shape.width, Y = shape.height, dy = Y / X;
    var lines = [{label:canvasName, color:"#00FF00", ymin: 0, ymax:Y, data:[]}];
    var x = 0;
    var update = function() {
      var line = lines[0];
      if (line.data.length > shape.width) line.data = line.data.slice(1);
      line.data.push(Math.sin(x / (5 * Math.PI)));
      lines[0] = line;
      plot(canvasName, lines, shape);
      setTimeout(update, 20);
    };
    x++;
    (function() { plot(canvasName, lines); })();
  </script>

</body>
